version: "3.8"

services:
  agent:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: agent
    ports:
      - "5200:5200"
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - ANTHROPIC_BASE_URL=${ANTHROPIC_BASE_URL:-https://api.anthropic.com}
      - NODE_ENV=production
      - PORT=5200
      - PROJECT_PATH=/project
      - AUTO_RUN_PROMPT=${AUTO_RUN_PROMPT:-}
      - AUTO_RUN_SESSION_ID=${AUTO_RUN_SESSION_ID:-}
    volumes:
      # Project directory - mount your code here
      - ${PROJECT_PATH:-.}:/project
    restart: unless-stopped
